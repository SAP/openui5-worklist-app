{"version":3,"file":"GrowingEnablement.js","names":["sap","ui","define","BaseObject","NumberFormat","library","ChangeReason","ManagedObjectMetadata","HTML","CustomListItem","encodeXML","Core","jQuery","ListType","ListGrowingDirection","GrowingEnablement","extend","constructor","oControl","apply","this","_oControl","bUseExtendedChangeDetection","addDelegate","iRenderedItemsLength","getItems","length","_iRenderedDataItems","_iLimit","_bLoading","_sGroupingPath","_bDataRequested","_bSkippedItemsUpdateUntilDataReceived","_iLastItemsCount","_iTriggerTimer","_aChunk","_oRM","_aItemsPool","destroy","_oTrigger","_oScrollDelegate","setGrowingList","clearItemsPool","$","remove","removeDelegate","render","oRm","openStart","getId","class","style","openEnd","renderControl","_getTrigger","close","onAfterRendering","getGrowingScrollToLoad","oScrollDelegate","getScrollDelegate","onScrollToLoad","bind","getGrowingDirection","_updateTrigger","_updateTriggerDelayed","onsapdown","oEvent","_oItemNavigation","isMarked","aItemDomRefs","getItemDomRefs","sDir","Upwards","type","target","$Trigger","trigger","setMarked","stopImmediatePropagation","getDomRef","onsapup","setTriggerText","sText","text","reset","bPageSizeOnly","oBindingInfo","getBindingInfo","oExtendedChangeDetectionConfig","template","replace","forEach","oItem","shouldReset","sChangeReason","mChangeReason","Sort","Filter","Context","getInfo","total","getMaxItemsCount","actual","oTriggerButton","display","_oScrollPosition","left","getScrollLeft","top","getScrollHeight","requestNewPage","oBinding","getBinding","isLengthFinal","_bBusy","getGrowingThreshold","updateItems","_onBeforePageLoaded","onBeforePageLoaded","_onAfterPageLoaded","onAfterPageLoaded","sTriggerID","sTriggerText","getGrowingTriggerText","getLibraryResourceBundle","getText","addNavSection","id","busyIndicatorDelay","Active","content","getList","TagName","setGroupedItem","setParent","attachPress","onsapenter","preventDefault","onsapspace","$oTrigger","removeAttr","attr","tabindex","role","_getListItemInfo","aCounts","_getItemCounts","oFormat","getFloatInstance","format","_getGroupingPath","aSorters","oSorter","sPath","_getDomIndex","vIndex","hasPopin","_getHasScrollbars","window","innerHeight","getMaxScrollTop","clientHeight","destroyListItems","bSuppressInvalidate","destroyItems","addListItem","oContext","binding","createListItem","isGrouped","aItems","oLastItem","sModelName","model","oGroupInfo","getGroup","getBindingContext","isGroupHeader","removeAggregation","setLastGroupHeader","_fnAppendGroupItem","appendGroupItem","key","oGroupHeader","groupHeaderFactory","getGroupHeaderTemplate","applyPendingGroupItem","oLastGroupHeader","getLastGroupHeader","invalidate","addAggregation","push","undefined","addItemGroup","fillItemsPool","iLimit","i","factory","shift","setBindingContext","createItem","updateItemsBindingContext","aContexts","oModel","c","applyChunk","vInsert","bAsync","iTimer","_iChunkTimer","iLength","oDomRef","getItemsContainerDomRef","clearTimeout","shouldRenderItems","reverse","createRenderManager","bHasFocus","contains","document","activeElement","flush","focus","applyChunkAsync","_bApplyChunkAsync","setTimeout","addListItems","rebuildListItems","insertListItem","iIndex","insertAggregation","deleteListItem","refreshItems","isA","checkGrowingFromScratch","attachEventOnce","getContexts","sGroupingPath","dataRequested","diff","aDiff","shouldGrowingSuppressInvalidation","bFromScratch","vInsertIndex","oDiff","index","removeGroupHeaders","iLastInsertIndex","iDiffIndex","_onBindingDataReceivedListener","getParameter","bLoading","cancelAnimationFrame","requestAnimationFrame","oTrigger","bVisibleItems","getVisibleItems","setBusy","toggleClass","setActive","css","iItemsLength","iBindingLength","getLength","bLengthFinal","bHasScrollToLoad","oTriggerDomRef","removeClass","addClass","adaptTriggerButtonWidth","oScrollPosition","scrollTo","shouldRenderDummyColumn","hasClass","bIsDestroyed","sCalWidth","Array","from","childNodes","slice","map","sWidth","getAttribute","includes","getBoundingClientRect","width","join","classList","add","sIdSuffix","uid"],"sources":["GrowingEnablement-dbg.js"],"mappings":"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"}