{"version":3,"file":"LightBox.js","names":["sap","ui","define","library","Control","Popup","Core","Text","Button","ResizeHandler","Device","Icon","VerticalLayout","InstanceManager","InvisibleText","coreLibrary","LightBoxRenderer","BusyIndicator","jQuery","DomUnitsRem","ButtonType","LightBoxLoadingStates","OpenState","TextAlign","LightBox","extend","metadata","interfaces","aggregations","imageContent","type","multiple","bindable","_closeButton","visibility","_verticalLayout","_invisiblePopupText","_busy","defaultAggregation","events","designtime","renderer","prototype","init","this","_createPopup","_iWidth","_iHeight","_isRendering","_iResizeListenerId","_$lightBox","_oRB","getLibraryResourceBundle","setAggregation","onBeforeRendering","oImageContent","_getImageContent","oNativeImage","_getNativeImage","sImageSrc","getImageSrc","sState","_getImageState","sInvisiblePopupText","getText","getTitle","getSubtitle","sErrorMessageTitle","sErrorMessageSubtitle","_createErrorControls","getAttribute","src","resize","detachHandler","_fnResizeListener","deregister","Loading","_iTimeoutId","setTimeout","_setImageState","TimeOutError","Loaded","clearTimeout","_calculateSizes","Error","getAggregation","setText","onAfterRendering","$","_onResize","bind","attachHandler","register","forceInvalidate","invalidate","oOrigin","isOpen","close","exit","_oPopup","detachOpened","_fnPopupOpened","detachClosed","_fnPopupClosed","destroy","removeLightBoxInstance","open","setContent","document","body","addLightBoxInstance","_getCloseButton","oCloseButton","id","getId","text","Transparent","press","_getBusyIndicator","oBusyIndicator","_imageStateChanged","sNewState","bEndState","rerender","attachOpened","attachClosed","on","off","sErrorTitle","sErrorSubtitle","oTitle","oSubtitle","oIcon","textAlign","Center","addStyleClass","content","iMinimumSideOffset","_calculateOffset","vTop","vLeft","vMarginTop","vMarginLeft","oDomRef","getDomRef","vLightBoxWidth","vLightBoxHeight","iMinimumOffset","width","height","clientWidth","clientHeight","window","innerWidth","Math","round","innerHeight","css","top","left","iFooterHeightPx","_calculateFooterHeightInPx","iImageMinHeight","oImage","iHeight","_setImageSize","naturalWidth","naturalHeight","_calculateAndSetLightBoxSize","_pxToNumber","getHeight","toggleStyleClass","_isBusy","bCompact","parents","hasClass","iFooterHeightRem","toPx","iImageHeight","iImageWidth","iLightBoxMinWidth","iLightBoxMinHeight","getWidth","max","_bIsLightBoxBiggerThanMinDimensions","iWidth","iFooterHeight","oDimensions","_getDimensions","setWidth","setHeight","iLightboxMinWidth","iLightboxMinHeight","$window","iWindowHeight","iWindowWidth","iAvailableWidth","iAvailableHeight","fScaleRatio","sSizeToConvert","substring","length","aImageContent","system","desktop","tablet","phone","onsapescape","oEvent","sOpenState","getOpenState","CLOSED","CLOSING","stopPropagation"],"sources":["LightBox-dbg.js"],"mappings":";;;;;AAMAA,IAAIC,GAAGC,OAAO,CACb,YACA,sBACA,oBACA,mBACA,aACA,eACA,4BACA,gBACA,mBACA,+BACA,oBACA,4BACA,sBACA,qBACA,sBACA,2BACA,wBACE,SACFC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,OACAC,GAEA,aAGA,IAAIC,EAAajB,EAAQiB,WAGzB,IAAIC,EAAwBlB,EAAQkB,sBAGpC,IAAIC,EAAYP,EAAYO,UAG5B,IAAIC,EAAYR,EAAYQ,UAqD5B,IAAIC,EAAWpB,EAAQqB,OAAO,iBAAyD,CACtFC,SAAU,CACTvB,QAAS,QACTwB,WAAY,CACX,8BAEDC,aAAc,CAMbC,aAAc,CAACC,KAAM,qBAAsBC,SAAU,KAAMC,SAAU,YAMrEC,aAAc,CAACH,KAAM,eAAgBC,SAAU,MAAOG,WAAY,UAMlEC,gBAAiB,CAACL,KAAM,+BAAgCC,SAAU,MAAOG,WAAY,UAMrFE,oBAAqB,CAACN,KAAM,4BAA6BC,SAAU,MAAOG,WAAY,UAMtFG,MAAO,CAACP,KAAM,sBAAuBC,SAAU,MAAOG,WAAY,WAGnEI,mBAAoB,eACpBC,OAAQ,CAAC,EACTC,WAAY,wCAGbC,SAAUzB,IAYXQ,EAASkB,UAAUC,KAAO,WACzBC,KAAKC,eACLD,KAAKE,QAAU,EACfF,KAAKG,SAAW,EAChBH,KAAKI,aAAe,KAEpBJ,KAAKK,mBAAqB,KAC1BL,KAAKM,WAAa,KAElBN,KAAKO,KAAO7C,EAAK8C,yBAAyB,SAG1CR,KAAKS,eAAe,sBAAuB,IAAIvC,EAChD,EAOAU,EAASkB,UAAUY,kBAAoB,WACtC,IAAIC,EAAgBX,KAAKY,mBACxBC,EAAeF,EAAcG,kBAC7BC,EAAYJ,EAAcK,cAC1BC,EAASN,EAAcO,iBACvBC,EAAsBnB,KAAKO,KAAKa,QAAQ,yBAA0B,CAACT,EAAcU,WAAYV,EAAcW,gBAC3GC,EAAqBvB,KAAKO,KAAKa,QAAQ,wBACvCI,EAAwBxB,KAAKO,KAAKa,QAAQ,gCAE3CpB,KAAKyB,uBAIL,GAAIZ,EAAaa,aAAa,SAAWX,EAAW,CACnDF,EAAac,IAAMZ,CACpB,CAEA,GAAIf,KAAKK,mBAAoB,CAC5BvC,EAAO8D,OAAOC,cAAc7B,KAAK8B,mBACjCjE,EAAckE,WAAW/B,KAAKK,oBAC9BL,KAAKK,mBAAqB,IAC3B,CAEA,OAAQY,GACP,KAAKxC,EAAsBuD,QAC1B,IAAKhC,KAAKiC,YAAa,CACtBjC,KAAKiC,YAAcC,WAAW,WAC7BvB,EAAcwB,eAAe1D,EAAsB2D,aACpD,EAAG,IACJ,CACA,MACD,KAAK3D,EAAsB4D,OAC1BC,aAAatC,KAAKiC,aAClBjC,KAAKuC,gBAAgB1B,GACrB,MACD,KAAKpC,EAAsB+D,MAC1BF,aAAatC,KAAKiC,aAClBd,GAAuB,IAAMI,EAAqB,IAAMC,EACxD,MACD,QACC,MAGF,GAAIb,EAAe,CAClBX,KAAKyC,eAAe,uBAAuBC,QAAQvB,EACpD,CAEAnB,KAAKI,aAAe,IACrB,EAOAxB,EAASkB,UAAU6C,iBAAmB,WACrC3C,KAAKI,aAAe,MACpBJ,KAAKM,WAAaN,KAAK4C,IAEvB,IAAK5C,KAAKK,mBAAoB,CAC7BL,KAAK8B,kBAAoB9B,KAAK6C,UAAUC,KAAK9C,MAC7ClC,EAAO8D,OAAOmB,cAAc/C,KAAK8B,mBACjC9B,KAAKK,mBAAqBxC,EAAcmF,SAAShD,KAAMA,KAAK8B,kBAC7D,CACD,EAEAlD,EAASkB,UAAUmD,gBAAkBzF,EAAQsC,UAAUoD,WASvDtE,EAASkB,UAAUoD,WAAa,SAAUC,GACzC,IAAIxC,EAAgBX,KAAKY,mBAEzB,GAAIZ,KAAKoD,SAAU,CAClB,GAAIzC,GAAiBA,EAAcK,cAAe,CACjDhB,KAAKiD,gBAAgBE,EACtB,KAAO,CACNnD,KAAKqD,OACN,CACD,CAEA,OAAOrD,IACR,EAOApB,EAASkB,UAAUwD,KAAO,WACzB,GAAItD,KAAKuD,QAAS,CACjBvD,KAAKuD,QAAQC,aAAaxD,KAAKyD,eAAgBzD,MAC/CA,KAAKuD,QAAQG,aAAa1D,KAAK2D,eAAgB3D,MAC/CA,KAAKuD,QAAQK,UACb5D,KAAKuD,QAAU,IAChB,CAEA,GAAIvD,KAAKK,mBAAoB,CAC5BvC,EAAO8D,OAAOC,cAAc7B,KAAK8B,mBACjCjE,EAAckE,WAAW/B,KAAKK,oBAC9BL,KAAKK,mBAAqB,IAC3B,CAEApC,EAAgB4F,uBAAuB7D,KACxC,EAYApB,EAASkB,UAAUgE,KAAO,WAEzB,IAAInD,EAAgBX,KAAKY,mBAEzBZ,KAAKuD,QAAQQ,WAAW/D,MAExB,GAAIW,GAAiBA,EAAcK,cAAe,CACjDhB,KAAKuD,QAAQO,KAAK,IAAK,gBAAiB,gBAAiBE,SAASC,KAAM,MACxEhG,EAAgBiG,oBAAoBlE,KACrC,CAEA,OAAOA,IACR,EAQApB,EAASkB,UAAUsD,OAAS,WAC3B,GAAIpD,KAAKuD,SAAWvD,KAAKuD,QAAQH,SAAU,CAC1C,OAAO,IACR,CAEA,OAAO,KACR,EAQAxE,EAASkB,UAAUuD,MAAQ,WAC1B,GAAIrD,KAAKK,mBAAoB,CAC5BvC,EAAO8D,OAAOC,cAAc7B,KAAK8B,mBACjCjE,EAAckE,WAAW/B,KAAKK,oBAC9BL,KAAKK,mBAAqB,IAC3B,CAEAL,KAAKuD,QAAQF,QACbpF,EAAgB4F,uBAAuB7D,MAEvC,OAAOA,IACR,EAYApB,EAASkB,UAAUqE,gBAAkB,WACpC,IAAIC,EAAepE,KAAKyC,eAAe,gBAEvC,IAAK2B,EAAc,CAClBA,EAAe,IAAIxG,EAAO,CACzByG,GAAIrE,KAAKsE,QAAU,eACnBC,KAAMvE,KAAKO,KAAKa,QAAQ,yBACxBlC,KAAMV,EAAWgG,YACjBC,MAAOzE,KAAKqD,MAAMP,KAAK9C,QAExBA,KAAKS,eAAe,eAAgB2D,EAAc,KACnD,CAEA,OAAOA,CACR,EAQAxF,EAASkB,UAAU4E,kBAAoB,WACtC,IAAIC,EAAiB3E,KAAKyC,eAAe,SAEzC,IAAKkC,EAAgB,CACpBA,EAAiB,IAAItG,EACrB2B,KAAKS,eAAe,QAASkE,EAAgB,KAC9C,CAEA,OAAOA,CACR,EAQA/F,EAASkB,UAAU8E,mBAAqB,SAAUC,GACjD,IAAIC,EAAYD,IAAcpG,EAAsB4D,QAAUwC,IAAcpG,EAAsB+D,MAElG,GAAIsC,IAAc9E,KAAKI,aAAc,CACpCJ,KAAK+E,UACN,CACD,EAQAnG,EAASkB,UAAUG,aAAe,WACjCD,KAAKuD,QAAU,IAAI9F,EAAMuC,KAAM,KAAM,MACrCA,KAAKuD,QAAQyB,aAAahF,KAAKyD,eAAgBzD,MAC/CA,KAAKuD,QAAQ0B,aAAajF,KAAK2D,eAAgB3D,KAChD,EAOApB,EAASkB,UAAU2D,eAAiB,WACnCzD,KAAK6C,YAELvE,OAAO,4BAA4B4G,GAAG,QAAS,WAC9ClF,KAAKqD,OACN,EAAEP,KAAK9C,MACR,EAOApB,EAASkB,UAAU6D,eAAiB,WACnCrF,OAAO,4BAA4B6G,IAAI,QACxC,EAOAvG,EAASkB,UAAU2B,qBAAuB,WACzC,IAAI2D,EACHC,EACAC,EACAC,EACAC,EAED,GAAIxF,KAAKyC,eAAe,mBAAoB,CAC3C,MACD,CAEA,GAAIzC,KAAKY,mBAAmBM,mBAAqBzC,EAAsB2D,aAAc,CACpFgD,EAAcpF,KAAKO,KAAKa,QAAQ,4BAChCiE,EAAiBrF,KAAKO,KAAKa,QAAQ,mCACpC,KAAO,CACNgE,EAAcpF,KAAKO,KAAKa,QAAQ,wBAChCiE,EAAiBrF,KAAKO,KAAKa,QAAQ,+BACpC,CAEAkE,EAAS,IAAI3H,EAAK,CACjB4G,KAAMa,EACNK,UAAW9G,EAAU+G,SACnBC,cAAc,0BAEjBJ,EAAY,IAAI5H,EAAK,CACpB4G,KAAMc,EACNI,UAAW9G,EAAU+G,SACnBC,cAAc,6BAEjBH,EAAQ,IAAIzH,EAAK,CAChB4D,IAAK,uBACHgE,cAAc,yBAEjB3F,KAAKS,eAAe,kBAAmB,IAAIzC,EAAe,CACzD4H,QAAS,CAACJ,EAAOF,EAAQC,KACvBI,cAAc,8BAClB,EAOA/G,EAASkB,UAAU+C,UAAY,WAC9B,IAAIgD,EAAqB7F,KAAK8F,mBAAqB,EAAI,KACtDC,EAAOF,EACPG,EAAQH,EACRI,EAAa,GACbC,EAAc,GACdvF,EAAgBX,KAAKY,mBACrBuF,EAAUnG,KAAKoG,YACfC,EACAC,EACAC,EAAiBvG,KAAK8F,mBAEvB,GAAInF,EAAcO,mBAAqBzC,EAAsB4D,OAAQ,CACpErC,KAAKuC,gBAAgB5B,EAAcG,mBAEnCuF,EAAiBrG,KAAKE,QACtBoG,EAAkBtG,KAAKG,SAEvBH,KAAKM,WAAWkG,MAAMH,GACtBrG,KAAKM,WAAWmG,OAAOH,EACxB,KAAO,CACND,EAAiBF,EAAQO,YACzBJ,EAAkBH,EAAQQ,YAC3B,CAEA,GAAIC,OAAOC,WAAaR,EAAiBE,EAAgB,CACxDP,EAAQ,MACRE,EAAcY,KAAKC,OAAOV,EAAiB,EAC5C,CAEA,GAAIO,OAAOI,YAAcV,EAAkBC,EAAgB,CAC1DR,EAAO,MACPE,EAAaa,KAAKC,OAAOT,EAAkB,EAC5C,CAEAtG,KAAKM,WAAW2G,IAAI,CACnBC,IAAOnB,EACP,aAAcE,EACdkB,KAAQnB,EACR,cAAeE,GAEjB,EAQAtH,EAASkB,UAAUyC,gBAAkB,SAAU1B,GAC9C,IAAIuG,EAAkBpH,KAAKqH,6BAC1BC,EAAkB,IAAMF,EACxBG,EAASvH,KAAKY,mBAAmB6B,eAAe,UAChD+E,EAEDxH,KAAKyH,cAAcF,EAAQ1G,EAAa6G,aAAc7G,EAAa8G,eACnE3H,KAAK4H,6BAA6BL,GAElCC,EAAUxH,KAAK6H,YAAYN,EAAOO,aAElC9H,KAAK+H,iBAAiB,sBAAuBP,EAAUF,GAEvDtH,KAAKgI,QAAU,KAChB,EAQApJ,EAASkB,UAAUuH,2BAA6B,WAC/C,IAAIY,EAAWjI,KAAK4C,IAAIsF,UAAUC,SAAS,oBAC1C5C,EAAYvF,KAAKY,mBAAmBU,cACpC8G,EAAmB,EAEpB,GAAIH,IAAa1C,EAAW,CAC3B6C,GAAoB,EACrB,CAEA,GAAI7C,EAAW,CACd6C,GAAoB,EACrB,CAEA,OAAO7J,EAAY8J,KAAKD,EACzB,EAQAxJ,EAASkB,UAAU8H,6BAA+B,SAAUL,GAC3D,IAAIe,EACHC,EACAC,EAAoB,GAAa,GACjCC,EAAqB,GAAa,GAClCrB,EAAkBpH,KAAKqH,6BAExBiB,EAAetI,KAAK6H,YAAYN,EAAOO,aACvCS,EAAcvI,KAAK6H,YAAYN,EAAOmB,YAEtC1I,KAAKE,QAAU4G,KAAK6B,IAAIH,EAAmBD,GAC3CvI,KAAKG,SAAW2G,KAAK6B,IAAIF,EAAoBH,EAAelB,GAE5DpH,KAAK4I,oCAAuCL,GAAeC,GAAuBF,GAAiBG,EAAqBrB,CACzH,EAUAxI,EAASkB,UAAU2H,cAAgB,SAAUF,EAAQsB,EAAQrB,GAC5D,IAAIsB,EAAgB9I,KAAKqH,6BACxB0B,EAAc/I,KAAKgJ,eAAeH,EAAQrB,EAASsB,GAEpDvB,EAAO0B,SAASF,EAAYvC,MAAQ,MACpCe,EAAO2B,UAAUH,EAAYtC,OAAS,KACvC,EAWA7H,EAASkB,UAAUkJ,eAAiB,SAAUT,EAAaD,EAAcQ,GAExE,IAAIK,EAAoB,GAAa,GACpCC,EAAqB,GAAa,GAGlCC,EAAU/K,OAAOsI,QACjB0C,EAAgBD,EAAQ5C,SACxB8C,EAAeF,EAAQ7C,QACvBD,EAAiBvG,KAAK8F,mBAGtB0D,EAAkB1C,KAAK6B,IAAIY,EAAehD,EAAgB4C,GAC1DM,EAAmB3C,KAAK6B,IAAIW,EAAgB/C,EAAgB6C,GAG5DM,EAEDD,GAAoBX,EAEpB,GAAIR,GAAgBmB,EAAkB,CACrC,GAAIlB,GAAeiB,EAAiB,CAEpC,KAAO,CAENlB,GAAgBkB,EAAkBjB,EAClCA,EAAciB,CACf,CACD,MAAO,GAAIjB,GAAeiB,EAAiB,CAC1CjB,GAAekB,EAAmBnB,EAClCA,EAAemB,CAChB,KAAO,CACNC,EAAc5C,KAAK6B,IAAIJ,EAAciB,EAAiBlB,EAAemB,GACrElB,GAAemB,EACfpB,GAAgBoB,CACjB,CAEA,MAAO,CACNlD,MAAOM,KAAKC,MAAMwB,GAClB9B,OAAQK,KAAKC,MAAMuB,GAErB,EASA1J,EAASkB,UAAU+H,YAAc,SAAU8B,GAC1C,OAAQA,EAAeC,UAAU,EAAID,EAAeE,OAAS,GAAQ,CACtE,EAQAjL,EAASkB,UAAUc,iBAAmB,WACrC,IAAIkJ,EAAgB9J,KAAKyC,eAAe,gBAExC,OAAOqH,GAAiBA,EAAc,EACvC,EAQAlL,EAASkB,UAAUgG,iBAAmB,WACrC,GAAIhI,EAAOiM,OAAOC,QAAS,CAC1B,OAAO,EAAY,EACpB,CAEA,GAAIlM,EAAOiM,OAAOE,OAAQ,CACzB,OAAO,EAAY,EACpB,CAEA,GAAInM,EAAOiM,OAAOG,OAASpM,EAAO8D,OAAO4E,MAAQ,IAAK,CACrD,OAAO,EAAY,EACpB,CAEA,OAAO,CACR,EAQA5H,EAASkB,UAAUqK,YAAc,SAAUC,GAC1C,IAAIC,EAAarK,KAAKuD,QAAQ+G,eAE9B,GAAID,IAAe3L,EAAU6L,QAAUF,IAAe3L,EAAU8L,QAAS,CACxExK,KAAKqD,QAEL+G,EAAOK,iBACR,CACD,EAEA,OAAO7L,CACR"}