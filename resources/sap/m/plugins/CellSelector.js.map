{"version":3,"file":"CellSelector.js","names":["sap","ui","define","PluginBase","KeyCodes","Core","jQuery","Log","SELECTION_DIRECTION","NEXT","PREVIOUS","MOUSE_POSITION","ABOVE","RIGHT","BELOW","LEFT","IN","CSS_CLASS","CellSelector","extend","metadata","library","properties","events","prototype","onActivate","oControl","addDelegate","this","_oSession","oCanvas","oEdge","oBorderLine","sScrollEvent","getConfig","attachEvent","_handleScroll","_fnMouseupHandler","_onmouseup","bind","document","addEventListener","oContainerRef","getControl","getDomRef","_fnMouseleaveHandler","_onMouseLeave","onDeactivate","removeDelegate","detachEvent","removeEventListener","onAfterRendering","getSelectedCells","_bSelecting","oNormalizedBounds","getNormalizedBounds","mSource","mTarget","oSelection","iRow","from","rowIndex","to","oRowContext","aColumns","iCol","colIndex","oColumn","push","rowContext","columnIndices","onsapspace","oEvent","isMarked","error","oTarget","target","oCellInfo","mStart","_selectCells","info","focus","preventDefault","setMarked","onsapnext","onsapprevious","clearSelection","onsaphome","onsapend","onsapnextmodifiers","_selectNextCell","onsappreviousmodifiers","valueOf","bIsPrevious","iDirectionIndex","shiftKey","_isInSelectionArea","oFocusCellInfo","mFrom","Object","assign","mTo","sKeyCode","ARROW_UP","ARROW_DOWN","iDirection","sType","keyCode","direction","onsapspacemodifiers","Infinity","boundaryChange","ctrlKey","metaKey","onsaphomemodifiers","onsapendmodifiers","onkeydown","isKeyCombination","A","onkeyup","ontouchstart","oCellRef","_getSelectableCell","_bMouseDown","_bByEdge","ontouchmove","oTouchPosition","_getMousePosition","clientX","clientY","x","y","_bScrollSelecting","oTargetRef","oTargetInfo","oBounds","_oEdgeInfo","isActive","moveStart","edgePosition","_oBorderMoveInfo","sDirection","bMoveStart","oMousePosition","_onScrollSelect","Promise","resolve","reject","setTimeout","dispatchEvent","WheelEvent","deltaX","deltaMode","window","DOM_DELTA_LINE","deltaY","then","_onHandleMove","sFacing","bBorder","oDomRef","closest","oFocusInfo","bInArea","aRows","getRows","getIndex","length","oOptions","aCells","_savePreviousSelectionAreas","_eraseSelection","mBounds","mDrawableBounds","_getDrawableBounds","oBorderOptions","_getBorderOptions","cells","_drawSelection","mRange","Math","max","min","top","bottom","aSelectionAreas","forEach","oArea","iIndex","oTableDomRef","container","oFromDomRef","oToDomRef","mFromRect","mToRect","oTableRect","oStyle","getBoundingClientRect","mOffsetLeft","hasOffset","left","width","right","height","noBorderTop","noBorderBottom","noBorderRight","noBorderLeft","_drawSelectionArea","_drawEdgeHandle","_drawBorderLine","oTargetStyle","sContainer","createElement","className","isConnected","append","style","display","borderTop","borderBottom","borderRight","borderLeft","wrapper","classList","add","values","oBorder","oEdgePart","entries","aEntries","previousSelection","parseFloat","iX","iY","oPosition","oContainerRect","bShift","bCtrl","setConfigs","scrollContainer","selectableCells","scrollEvent","oPlugin","sEvent","oSelectionPlugin","getPlugins","isA","isSelectionEnabled","getSelectionBehavior","getSelectionMode","getCellRef","oTable","mPosition","oRow","_getRowByIndex","_getColumns","oCell","getCells","$","getCellInfo","getVisibleRange","getSelectionAreas","aAreas","iFixedColumnCount","getFixedColumnCount","iToCol","mFixedFrom","mFixedTo","selectCells","mSelectionBounds","iBindingLength","getBinding","getLength","_focusCell","borderOptions","oCellDomRef","control","indexOf","byId","getAttribute","contextByIndex","iRowIndex","getContextByIndex","columnByIndex","iColIndex","getVisible","isNavigatableCell","_scrollRow","iFirstRow","getFirstVisibleRow","getFixedRowCount","setFirstVisibleRow","getColumns","filter","aItems","i"],"sources":["CellSelector-dbg.js"],"mappings":"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"}