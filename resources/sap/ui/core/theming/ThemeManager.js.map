{"version":3,"file":"ThemeManager.js","names":["sap","ui","define","Global","Element","Configuration","Device","EventProvider","Log","assert","each","LoaderExtensions","ActivityDetection","includeStylesheet","ThemeHelper","oThemeManager","maxThemeCheckCycles","mAllLoadedLibraries","CUSTOMCSSCHECK","ThemeManager","extend","constructor","apply","this","arguments","_iCount","_CUSTOMID","_customCSSAdded","_themeCheckedForCustom","_sFallbackTheme","_mThemeFallback","setupThemes","themeLoaded","metadata","events","ThemeChanged","checkThemeChanged","reset","delayedCheckTheme","_sThemeCheckId","fireThemeChanged","prototype","clearTimeout","checkTheme","sThemeName","getTheme","sPath","_getThemePath","bIsStandardTheme","indexOf","res","aFailedLibs","checkAndRemoveStyle","sPrefix","sLib","currentRes","checkStyle","aOldStyles","document","querySelectorAll","length","i","l","remove","debug","checkLib","lib","sStyleId","getElementById","checkCustom","sCustomCssPath","sLibCssQueryParams","getLibraryCssQueryParams","oCustomCssLink","querySelector","oStyle","getAttribute","sheet","hasSheetCssRules","push","oThemeMetaData","getMetadata","Extends","forEach","warning","updateThemeUrl","cssFile","window","style","getComputedStyle","content","getPropertyValue","browser","safari","html","documentElement","classList","add","substring","e","error","aRules","safeAccessSheetCssRules","test","selectorText","bFirst","bEmergencyExit","iDelay","setTimeout","fnAddFoucmarker","sLinkId","oLink","dataset","sapUiFoucmarker","_includeLibraryThemeAndEnsureThemeRoot","oLibThemingInfo","sLibName","name","_ensureThemeRoot","getValue","includeLibraryTheme","variant","sVariant","vQueryOrLibInfo","undefined","sQuery","sCssVars","sRtl","getRTL","sLibFileName","sLibId","sOldCssUri","href","sCssBasePath","URL","sTheme","baseURI","toString","sCssPathAndName","sCssVariablesPathAndName","info","Parameters","require","_addLibraryTheme","toUrl","replace","_mThemeRoots","path","registerResourcePath","setThemeRoot","aLibraryNames","sThemeBaseUrl","bForceUpdate","Array","isArray","slice","_updateThemeUrls","bSuppressFOUC","oQueryResult","call","oHTMLElement","iQueryIndex","search","sStandardLibFilePrefix","sRTL","sHref","pos","mLinkId","exec","id","lastIndexOf","applyTheme","bForce","normalizeTheme","sCurrentTheme","setTheme","oLibInfo","version","versioninfo","mThemeRoots","themeName","themeRoot","notifyContentDensityChanged","oParameters","ThemeParameters","_reset","theme","sEventId","oEvent","jQuery","Event","registry","oElement","_handleEvent","refresh","fireEvent"],"sources":["ThemeManager-dbg.js"],"mappings":"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","ignoreList":[]}