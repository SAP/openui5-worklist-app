{"version":3,"file":"Opa.js","names":["sap","ui","define","Device","$","_LogCollector","_OpaLogger","_ParameterValidator","_UsageReport","_OpaUriParameterParser","_ValidationParameters","oLogger","getLogger","oLogCollector","getInstance","queue","context","timeout","oStopQueueOptions","oQueueDeferred","isEmptyQueueStarted","lastInternalWaitStack","oValidator","errorPrefix","start","internalWait","fnCallback","oOptions","window","debugTimeout","startTime","Date","opaCheck","timestamp","getAndClearLog","oResult","_stack","error","reject","result","internalEmpty","iPassedSeconds","setTimeout","pollingInterval","addErrorMessageToOptions","arguments","length","resolve","queueElement","shift","callback","options","Opa","config","asyncPolling","executionDelay","ensureNewlyAddedWaitForStatementsPrepended","oWaitForCounter","oNestedInOptions","iNewWaitForsCount","get","aNewWaitFors","splice","forEach","_nestedIn","concat","getMessageForException","oError","getErrorMessage","sErrorMessage","toString","stack","oErrorStack","sLogs","addStacks","errorMessage","createStack","iDropCount","browser","mozilla","Error","oError2","split","join","sResult","extensionObject","this","and","extend","extendConfig","aComponents","filter","sArrangeActAssert","oNewComponent","oNewComponentProto","Object","getPrototypeOf","oCurrentConfig","oCurrentConfigProto","sKey","sProtoKey","_uriParams","setLevel","logLevel","executionDelayDefault","safari","resetConfig","arrangements","actions","assertions","_stackDropCount","getContext","emptyQueue","Deferred","promise","fail","qunitTimeout","always","stopQueue","_stopQueue","warning","clearTimeout","_getOpaParams","_usageReport","prototype","waitFor","deferred","oFilteredConfig","_createFilteredConfig","_aConfigValuesForWaitFor","_validateWaitFor","_this","push","bCheckPassed","check","apply","success","_getWaitForCounter","bind","iWaitForPromise","oPromise","_schedulePromiseOnFlow","mPromiseState","started","then","done","oParameters","validate","validationInfo","OPA_WAITFOR","inputToValidate","_createFilteredOptions","aAllowedProperties","oSource","oFilteredOptions","vConfigValue","undefined","iQueueLengthOnCreation","iLength","Math","max","keys","OPA_WAITFOR_CONFIG"],"sources":["Opa-dbg.js"],"mappings":"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"}