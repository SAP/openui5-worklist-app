/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/thirdparty/jquery","sap/ui/base/Object","sap/ui/test/_OpaLogger","sap/ui/test/autowaiter/_XHRWaiter","sap/ui/test/autowaiter/_timeoutWaiter","sap/ui/test/autowaiter/_promiseWaiter","sap/ui/test/autowaiter/_navigationContainerWaiter","sap/ui/test/autowaiter/_cssTransitionWaiter","sap/ui/test/autowaiter/_cssAnimationWaiter","sap/ui/test/autowaiter/_jsAnimationWaiter","sap/ui/test/autowaiter/_UIUpdatesWaiter","sap/ui/test/autowaiter/_moduleWaiter","sap/ui/test/autowaiter/_resourceWaiter"],function(t,e,i,a,r,n,s,o,u,f,c,d,W){"use strict";var p=[];var w=i.getLogger("sap.ui.test.autowaiter._autoWaiter");var h=e.extend("sap.ui.test.autowaiter._autoWaiter",{registerWaiter:function(t,e){return new Promise(function(i,a){if(typeof e==="string"){sap.ui.require([e],this._addWaiter(t,i,a),function(e){a("Failed to load waiter "+t+": "+e)})}else if(typeof e==="object"){this._addWaiter(t,i,a)(e)}}.bind(this))},hasToWait:function(){var t=false;p.forEach(function(e){if(!t&&e.waiter.isEnabled()&&e.waiter.hasPending()){t=true}});if(!t){w.timestamp("opa.autoWaiter.syncPoint");w.debug("AutoWaiter syncpoint")}return t},extendConfig:function(e){if(!t.isEmptyObject(e)){p.forEach(function(t){if(t.waiter.extendConfig){t.waiter.extendConfig(e[t.name])}})}},getWaiters:function(){return p.slice()},_addWaiter:function(t,e,i){e=e||function(){};i=i||function(){};return function(a){if(typeof a.hasPending!=="function"){i("Waiter "+t+" should have a hasPending method")}else if(typeof a.isEnabled!=="function"){i("Waiter "+t+" should have an isEnabled method")}else{var r;p.forEach(function(e){if(e.name===t){w.debug("Waiter with name "+t+" will be overridden!");r=true;e.waiter=a}});if(!r){p.push({name:t,waiter:a})}e(a)}}}});var m=new h;var g={xhrWaiter:a,timeoutWaiter:r,promiseWaiter:n,navigationWaiter:s,cssTransitionWaiter:o,cssAnimationWaiter:u,jsAnimationWaiter:f,uiUpdatesWaiter:c,moduleWaiter:d,resourceWaiter:W};Object.keys(g).forEach(function(t){return m._addWaiter(t)(g[t])});return m},true);