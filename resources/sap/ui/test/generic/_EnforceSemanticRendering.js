/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define([],function(){"use strict";var e={run:function(e){var n=e.library;var i=e.excludes||[];return new Promise(function(e,r){sap.ui.getCore().loadLibrary(n,{async:true}).then(function(n){var r=n&&n.controls||[];var t=[];r.forEach(function(e){t.push(new Promise(function(n,r){var t={control:e};var o=e.replace(/\./g,"/");sap.ui.require([o],function(r){try{var o=r.getMetadata().getRenderer();if(o){t.version=Object.prototype.hasOwnProperty.call(o,"apiVersion")?o.apiVersion:1;if(i.includes(e)){if(t.version==2){t.wrongExclude=true;t.description="defined in the excludes"}else{t.skip=true}}}else{t.description="No Renderer Class available";t.skip=true}}catch(e){t.description="No Renderer Class available";t.skip=true}n(t)},function(){t.description="Control Class could not be loaded";if(i.includes(e)){t.skip=true}n(t)})}))});e(t)})}).then(function(n){return new Promise(function(i,r){Promise.all(n).then(function(n){QUnit.module("EnforceSemanticRendering Tests: "+e.library);QUnit.test("library controls loaded",function(e){e.ok(n,n.length+" controls loaded")});n.forEach(function(e){QUnit[e.skip?"skip":"test"](e.control+" "+(e.description||""),function(n){if(e.wrongExclude){n.ok(false,"The control '"+e.control+"' is maintained in the exclude configuration, but its renderer is configured with apiVersion 2.")}else{n.equal(e.version,2,"Semantic Rendering enabled.")}})});i()})})})}};return e});