/*!
 * iScroll v4.2.5 ~ Copyright (c) 2012 Matteo Spinelli, http://cubiq.org
 * Released under MIT license, http://cubiq.org/license
 */
(function(o,e){var t=Math,r=e.createElement("div").style,l=function(){var o="t,webkitT,MozT,msT,OT".split(","),e,t=0,l=o.length;for(;t<l;t++){e=o[t]+"ransform";if(e in r){return o[t].substr(0,o[t].length-1)}}return false}(),i=l?"-"+l.toLowerCase()+"-":"",s=E("transform"),n=E("transitionProperty"),a=E("transitionDuration"),c=E("transformOrigin"),p=E("transitionTimingFunction"),f=E("transitionDelay"),u=/android/gi.test(navigator.appVersion),m=/iphone|ipad/gi.test(navigator.appVersion),h=/hp-tablet/gi.test(navigator.appVersion),S=E("perspective")in r,d="ontouchstart"in o&&!h,b=l!==false,x=E("transition")in r,g="onorientationchange"in o?"orientationchange":"resize",y=d?"touchstart":"mousedown",Y=d?"touchmove":"mousemove",v=d?"touchend":"mouseup",T=d?"touchcancel":"mouseup",X=function(){if(l===false)return false;var o={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return o[l]}(),w=function(){return o.requestAnimationFrame||o.webkitRequestAnimationFrame||o.mozRequestAnimationFrame||o.oRequestAnimationFrame||o.msRequestAnimationFrame||function(o){return setTimeout(o,1)}}(),_=function(){return o.cancelRequestAnimationFrame||o.webkitCancelAnimationFrame||o.webkitCancelRequestAnimationFrame||o.mozCancelRequestAnimationFrame||o.oCancelRequestAnimationFrame||o.msCancelRequestAnimationFrame||clearTimeout}(),z=S?" translateZ(0)":"",M=function(t,r){var l=this,f;l.wrapper=typeof t=="object"?t:e.getElementById(t);l.wrapper.style.overflow="hidden";l.scroller=l.wrapper.children[0];l.options={hScroll:true,vScroll:true,x:0,y:0,bounce:true,bounceLock:false,momentum:true,lockDirection:true,useTransform:true,useTransition:false,topOffset:0,checkDOMChanges:false,handleClick:true,hScrollbar:true,vScrollbar:true,fixedScrollbar:u,hideScrollbar:m,fadeScrollbar:m&&S,scrollbarClass:"",zoom:false,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:false,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(o){o.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(f in r)l.options[f]=r[f];l.x=l.options.x;l.y=l.options.y;l.options.useTransform=b&&l.options.useTransform;l.options.hScrollbar=l.options.hScroll&&l.options.hScrollbar;l.options.vScrollbar=l.options.vScroll&&l.options.vScrollbar;l.options.zoom=l.options.useTransform&&l.options.zoom;l.options.useTransition=x&&l.options.useTransition;if(l.options.zoom&&u){z=""}l.scroller.style[n]=l.options.useTransform?i+"transform":"top left";l.scroller.style[a]="0";l.scroller.style[c]="0 0";if(l.options.useTransition)l.scroller.style[p]="cubic-bezier(0.33,0.66,0.66,1)";if(l.options.useTransform)l.scroller.style[s]="translate("+l.x+"px,"+l.y+"px)"+z;else l.scroller.style.cssText+=";position:absolute;top:"+l.y+"px;left:"+l.x+"px";if(l.options.useTransition)l.options.fixedScrollbar=true;l.refresh();l._bind(g,o);l._bind(y);if(!d){if(l.options.wheelAction!="none"){l._bind("DOMMouseScroll");l._bind("mousewheel")}}if(l.options.checkDOMChanges)l.checkDOMTime=setInterval(function(){l._checkDOMChanges()},500)};M.prototype={enabled:true,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(o){var e=this;switch(o.type){case y:if(!d&&o.button!==0)return;e._start(o);break;case Y:e._move(o);break;case v:case T:e._end(o);break;case g:e._resize();break;case"DOMMouseScroll":case"mousewheel":e._wheel(o);break;case X:e._transitionEnd(o);break}},_checkDOMChanges:function(){if(this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)return;this.refresh()},_scrollbar:function(o){var r=this,l;if(!r[o+"Scrollbar"]){if(r[o+"ScrollbarWrapper"]){if(b)r[o+"ScrollbarIndicator"].style[s]="";r[o+"ScrollbarWrapper"].parentNode.removeChild(r[o+"ScrollbarWrapper"]);r[o+"ScrollbarWrapper"]=null;r[o+"ScrollbarIndicator"]=null}return}if(!r[o+"ScrollbarWrapper"]){l=e.createElement("div");if(r.options.scrollbarClass)l.className=r.options.scrollbarClass+o.toUpperCase();else l.style.cssText="position:absolute;z-index:100;"+(o=="h"?"height:7px;bottom:1px;left:2px;right:"+(r.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(r.hScrollbar?"7":"2")+"px;top:2px;right:1px");l.style.cssText+=";pointer-events:none;"+i+"transition-property:opacity;"+i+"transition-duration:"+(r.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(r.options.hideScrollbar?"0":"1");r.wrapper.appendChild(l);r[o+"ScrollbarWrapper"]=l;l=e.createElement("div");if(!r.options.scrollbarClass){l.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+i+"background-clip:padding-box;"+i+"box-sizing:border-box;"+(o=="h"?"height:100%":"width:100%")+";"+i+"border-radius:3px;border-radius:3px"}l.style.cssText+=";pointer-events:none;"+i+"transition-property:"+i+"transform;"+i+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+i+"transition-duration:0;"+i+"transform: translate(0,0)"+z;if(r.options.useTransition)l.style.cssText+=";"+i+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)";r[o+"ScrollbarWrapper"].appendChild(l);r[o+"ScrollbarIndicator"]=l}if(o=="h"){r.hScrollbarSize=r.hScrollbarWrapper.clientWidth;r.hScrollbarIndicatorSize=t.max(t.round(r.hScrollbarSize*r.hScrollbarSize/r.scrollerW),8);r.hScrollbarIndicator.style.width=r.hScrollbarIndicatorSize+"px";r.hScrollbarMaxScroll=r.hScrollbarSize-r.hScrollbarIndicatorSize;r.hScrollbarProp=r.hScrollbarMaxScroll/r.maxScrollX}else{r.vScrollbarSize=r.vScrollbarWrapper.clientHeight;r.vScrollbarIndicatorSize=t.max(t.round(r.vScrollbarSize*r.vScrollbarSize/r.scrollerH),8);r.vScrollbarIndicator.style.height=r.vScrollbarIndicatorSize+"px";r.vScrollbarMaxScroll=r.vScrollbarSize-r.vScrollbarIndicatorSize;r.vScrollbarProp=r.vScrollbarMaxScroll/r.maxScrollY}r._scrollbarPos(o,true)},_resize:function(){var o=this;setTimeout(function(){o.refresh()},u?200:0)},_pos:function(o,e){if(this.zoomed)return;o=this.hScroll?o:0;e=this.vScroll?e:0;if(this.options.useTransform){this.scroller.style[s]="translate("+o+"px,"+e+"px) scale("+this.scale+")"+z}else{o=t.round(o);e=t.round(e);this.scroller.style.left=o+"px";this.scroller.style.top=e+"px"}this.x=o;this.y=e;this._scrollbarPos("h");this._scrollbarPos("v")},_scrollbarPos:function(o,e){var r=this,l=o=="h"?r.x:r.y,i;if(!r[o+"Scrollbar"])return;l=r[o+"ScrollbarProp"]*l;if(l<0){if(!r.options.fixedScrollbar){i=r[o+"ScrollbarIndicatorSize"]+t.round(l*3);if(i<8)i=8;r[o+"ScrollbarIndicator"].style[o=="h"?"width":"height"]=i+"px"}l=0}else if(l>r[o+"ScrollbarMaxScroll"]){if(!r.options.fixedScrollbar){i=r[o+"ScrollbarIndicatorSize"]-t.round((l-r[o+"ScrollbarMaxScroll"])*3);if(i<8)i=8;r[o+"ScrollbarIndicator"].style[o=="h"?"width":"height"]=i+"px";l=r[o+"ScrollbarMaxScroll"]+(r[o+"ScrollbarIndicatorSize"]-i)}else{l=r[o+"ScrollbarMaxScroll"]}}r[o+"ScrollbarWrapper"].style[f]="0";r[o+"ScrollbarWrapper"].style.opacity=e&&r.options.hideScrollbar?"0":"1";r[o+"ScrollbarIndicator"].style[s]="translate("+(o=="h"?l+"px,0)":"0,"+l+"px)")+z},_start:function(e){var r=this,l=d?e.touches[0]:e,i,n,a,c,p;if(!r.enabled)return;if(r.options.onBeforeScrollStart)r.options.onBeforeScrollStart.call(r,e);if(r.options.useTransition||r.options.zoom)r._transitionTime(0);r.moved=false;r.animating=false;r.zoomed=false;r.distX=0;r.distY=0;r.absDistX=0;r.absDistY=0;r.dirX=0;r.dirY=0;if(r.options.zoom&&d&&e.touches.length>1){c=t.abs(e.touches[0].pageX-e.touches[1].pageX);p=t.abs(e.touches[0].pageY-e.touches[1].pageY);r.touchesDistStart=t.sqrt(c*c+p*p);r.originX=t.abs(e.touches[0].pageX+e.touches[1].pageX-r.wrapperOffsetLeft*2)/2-r.x;r.originY=t.abs(e.touches[0].pageY+e.touches[1].pageY-r.wrapperOffsetTop*2)/2-r.y;if(r.options.onZoomStart)r.options.onZoomStart.call(r,e)}if(r.options.momentum){if(r.options.useTransform){i=getComputedStyle(r.scroller,null)[s].replace(/[^0-9\-.,]/g,"").split(",");n=+(i[12]||i[4]);a=+(i[13]||i[5])}else{n=+getComputedStyle(r.scroller,null).left.replace(/[^0-9-]/g,"");a=+getComputedStyle(r.scroller,null).top.replace(/[^0-9-]/g,"")}if(n!=r.x||a!=r.y){if(r.options.useTransition)r._unbind(X);else _(r.aniTime);r.steps=[];r._pos(n,a);if(r.options.onScrollEnd)r.options.onScrollEnd.call(r)}}r.absStartX=r.x;r.absStartY=r.y;r.startX=r.x;r.startY=r.y;r.pointX=l.pageX;r.pointY=l.pageY;r.startTime=e.timeStamp||Date.now();if(r.options.onScrollStart)r.options.onScrollStart.call(r,e);r._bind(Y,o);r._bind(v,o);r._bind(T,o)},_move:function(o){var e=this,r=d?o.touches[0]:o,l=r.pageX-e.pointX,i=r.pageY-e.pointY,n=e.x+l,a=e.y+i,c,p,f,u=o.timeStamp||Date.now();if(e.options.onBeforeScrollMove)e.options.onBeforeScrollMove.call(e,o);if(e.options.zoom&&d&&o.touches.length>1){c=t.abs(o.touches[0].pageX-o.touches[1].pageX);p=t.abs(o.touches[0].pageY-o.touches[1].pageY);e.touchesDist=t.sqrt(c*c+p*p);e.zoomed=true;f=1/e.touchesDistStart*e.touchesDist*this.scale;if(f<e.options.zoomMin)f=.5*e.options.zoomMin*Math.pow(2,f/e.options.zoomMin);else if(f>e.options.zoomMax)f=2*e.options.zoomMax*Math.pow(.5,e.options.zoomMax/f);e.lastScale=f/this.scale;n=this.originX-this.originX*e.lastScale+this.x,a=this.originY-this.originY*e.lastScale+this.y;this.scroller.style[s]="translate("+n+"px,"+a+"px) scale("+f+")"+z;if(e.options.onZoom)e.options.onZoom.call(e,o);return}e.pointX=r.pageX;e.pointY=r.pageY;if(n>0||n<e.maxScrollX){n=e.options.bounce?e.x+l/2:n>=0||e.maxScrollX>=0?0:e.maxScrollX}if(a>e.minScrollY||a<e.maxScrollY){a=e.options.bounce?e.y+i/2:a>=e.minScrollY||e.maxScrollY>=0?e.minScrollY:e.maxScrollY}e.distX+=l;e.distY+=i;e.absDistX=t.abs(e.distX);e.absDistY=t.abs(e.distY);if(e.absDistX<6&&e.absDistY<6){return}if(e.options.lockDirection){if(e.absDistX>e.absDistY+5){a=e.y;i=0}else if(e.absDistY>e.absDistX+5){n=e.x;l=0}}e.moved=true;e._pos(n,a);e.dirX=l>0?-1:l<0?1:0;e.dirY=i>0?-1:i<0?1:0;if(u-e.startTime>300){e.startTime=u;e.startX=e.x;e.startY=e.y}if(e.options.onScrollMove)e.options.onScrollMove.call(e,o)},_end:function(r){if(d&&r.touches.length!==0)return;var l=this,i=d?r.changedTouches[0]:r,n,c,p={dist:0,time:0},f={dist:0,time:0},u=(r.timeStamp||Date.now())-l.startTime,m=l.x,h=l.y,S,b,x,g,y;l._unbind(Y,o);l._unbind(v,o);l._unbind(T,o);if(l.options.onBeforeScrollEnd)l.options.onBeforeScrollEnd.call(l,r);if(l.zoomed){y=l.scale*l.lastScale;y=Math.max(l.options.zoomMin,y);y=Math.min(l.options.zoomMax,y);l.lastScale=y/l.scale;l.scale=y;l.x=l.originX-l.originX*l.lastScale+l.x;l.y=l.originY-l.originY*l.lastScale+l.y;l.scroller.style[a]="200ms";l.scroller.style[s]="translate("+l.x+"px,"+l.y+"px) scale("+l.scale+")"+z;l.zoomed=false;l.refresh();if(l.options.onZoomEnd)l.options.onZoomEnd.call(l,r);return}if(!l.moved){if(d){if(l.doubleTapTimer&&l.options.zoom){clearTimeout(l.doubleTapTimer);l.doubleTapTimer=null;if(l.options.onZoomStart)l.options.onZoomStart.call(l,r);l.zoom(l.pointX,l.pointY,l.scale==1?l.options.doubleTapZoom:1);if(l.options.onZoomEnd){setTimeout(function(){l.options.onZoomEnd.call(l,r)},200)}}else if(this.options.handleClick){l.doubleTapTimer=setTimeout(function(){l.doubleTapTimer=null;n=i.target;while(n.nodeType!=1)n=n.parentNode;if(n.tagName!="SELECT"&&n.tagName!="INPUT"&&n.tagName!="TEXTAREA"){c=e.createEvent("MouseEvents");c.initMouseEvent("click",true,true,r.view,1,i.screenX,i.screenY,i.clientX,i.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,0,null);c._fake=true;n.dispatchEvent(c)}},l.options.zoom?250:0)}}l._resetPos(400);if(l.options.onTouchEnd)l.options.onTouchEnd.call(l,r);return}if(u<300&&l.options.momentum){p=m?l._momentum(m-l.startX,u,-l.x,l.scrollerW-l.wrapperW+l.x,l.options.bounce?l.wrapperW:0):p;f=h?l._momentum(h-l.startY,u,-l.y,l.maxScrollY<0?l.scrollerH-l.wrapperH+l.y-l.minScrollY:0,l.options.bounce?l.wrapperH:0):f;m=l.x+p.dist;h=l.y+f.dist;if(l.x>0&&m>0||l.x<l.maxScrollX&&m<l.maxScrollX)p={dist:0,time:0};if(l.y>l.minScrollY&&h>l.minScrollY||l.y<l.maxScrollY&&h<l.maxScrollY)f={dist:0,time:0}}if(p.dist||f.dist){x=t.max(t.max(p.time,f.time),10);if(l.options.snap){S=m-l.absStartX;b=h-l.absStartY;if(t.abs(S)<l.options.snapThreshold&&t.abs(b)<l.options.snapThreshold){l.scrollTo(l.absStartX,l.absStartY,200)}else{g=l._snap(m,h);m=g.x;h=g.y;x=t.max(g.time,x)}}l.scrollTo(t.round(m),t.round(h),x);if(l.options.onTouchEnd)l.options.onTouchEnd.call(l,r);return}if(l.options.snap){S=m-l.absStartX;b=h-l.absStartY;if(t.abs(S)<l.options.snapThreshold&&t.abs(b)<l.options.snapThreshold)l.scrollTo(l.absStartX,l.absStartY,200);else{g=l._snap(l.x,l.y);if(g.x!=l.x||g.y!=l.y)l.scrollTo(g.x,g.y,g.time)}if(l.options.onTouchEnd)l.options.onTouchEnd.call(l,r);return}l._resetPos(200);if(l.options.onTouchEnd)l.options.onTouchEnd.call(l,r)},_resetPos:function(o){var e=this,t=e.x>=0?0:e.x<e.maxScrollX?e.maxScrollX:e.x,r=e.y>=e.minScrollY||e.maxScrollY>0?e.minScrollY:e.y<e.maxScrollY?e.maxScrollY:e.y;if(t==e.x&&r==e.y){if(e.moved){e.moved=false;if(e.options.onScrollEnd)e.options.onScrollEnd.call(e)}if(e.hScrollbar&&e.options.hideScrollbar){if(l=="webkit")e.hScrollbarWrapper.style[f]="300ms";e.hScrollbarWrapper.style.opacity="0"}if(e.vScrollbar&&e.options.hideScrollbar){if(l=="webkit")e.vScrollbarWrapper.style[f]="300ms";e.vScrollbarWrapper.style.opacity="0"}return}e.scrollTo(t,r,o||0)},_wheel:function(o){var e=this,t,r,l,i,s;if("wheelDeltaX"in o){t=o.wheelDeltaX/12;r=o.wheelDeltaY/12}else if("wheelDelta"in o){t=r=o.wheelDelta/12}else if("detail"in o){t=r=-o.detail*3}else{return}if(e.options.wheelAction=="zoom"){s=e.scale*Math.pow(2,1/3*(r?r/Math.abs(r):0));if(s<e.options.zoomMin)s=e.options.zoomMin;if(s>e.options.zoomMax)s=e.options.zoomMax;if(s!=e.scale){if(!e.wheelZoomCount&&e.options.onZoomStart)e.options.onZoomStart.call(e,o);e.wheelZoomCount++;e.zoom(o.pageX,o.pageY,s,400);setTimeout(function(){e.wheelZoomCount--;if(!e.wheelZoomCount&&e.options.onZoomEnd)e.options.onZoomEnd.call(e,o)},400)}return}l=e.x+t;i=e.y+r;if(l>0)l=0;else if(l<e.maxScrollX)l=e.maxScrollX;if(i>e.minScrollY)i=e.minScrollY;else if(i<e.maxScrollY)i=e.maxScrollY;if(e.maxScrollY<0){e.scrollTo(l,i,0)}},_transitionEnd:function(o){var e=this;if(o.target!=e.scroller)return;e._unbind(X);e._startAni()},_startAni:function(){var o=this,e=o.x,r=o.y,l=Date.now(),i,s,n;if(o.animating)return;if(!o.steps.length){o._resetPos(400);return}i=o.steps.shift();if(i.x==e&&i.y==r)i.time=0;o.animating=true;o.moved=true;if(o.options.useTransition){o._transitionTime(i.time);o._pos(i.x,i.y);o.animating=false;if(i.time)o._bind(X);else o._resetPos(0);return}n=function(){var a=Date.now(),c,p;if(a>=l+i.time){o._pos(i.x,i.y);o.animating=false;if(o.options.onAnimationEnd)o.options.onAnimationEnd.call(o);o._startAni();return}a=(a-l)/i.time-1;s=t.sqrt(1-a*a);c=(i.x-e)*s+e;p=(i.y-r)*s+r;o._pos(c,p);if(o.animating)o.aniTime=w(n)};n()},_transitionTime:function(o){o+="ms";this.scroller.style[a]=o;if(this.hScrollbar)this.hScrollbarIndicator.style[a]=o;if(this.vScrollbar)this.vScrollbarIndicator.style[a]=o},_momentum:function(o,e,r,l,i){var s=6e-4,n=t.abs(o)/e,a=n*n/(2*s),c=0,p=0;if(o>0&&a>r){p=i/(6/(a/n*s));r=r+p;n=n*r/a;a=r}else if(o<0&&a>l){p=i/(6/(a/n*s));l=l+p;n=n*l/a;a=l}a=a*(o<0?-1:1);c=n/s;return{dist:a,time:t.round(c)}},_offset:function(o){var e=-o.offsetLeft,t=-o.offsetTop;while(o=o.offsetParent){e-=o.offsetLeft;t-=o.offsetTop}if(o!=this.wrapper){e*=this.scale;t*=this.scale}return{left:e,top:t}},_snap:function(o,e){var r=this,l,i,s,n,a,c;s=r.pagesX.length-1;for(l=0,i=r.pagesX.length;l<i;l++){if(o>=r.pagesX[l]){s=l;break}}if(s==r.currPageX&&s>0&&r.dirX<0)s--;o=r.pagesX[s];a=t.abs(o-r.pagesX[r.currPageX]);a=a?t.abs(r.x-o)/a*500:0;r.currPageX=s;s=r.pagesY.length-1;for(l=0;l<s;l++){if(e>=r.pagesY[l]){s=l;break}}if(s==r.currPageY&&s>0&&r.dirY<0)s--;e=r.pagesY[s];c=t.abs(e-r.pagesY[r.currPageY]);c=c?t.abs(r.y-e)/c*500:0;r.currPageY=s;n=t.round(t.max(a,c))||200;return{x:o,y:e,time:n}},_bind:function(o,e,t){(e||this.scroller).addEventListener(o,this,!!t)},_unbind:function(o,e,t){(e||this.scroller).removeEventListener(o,this,!!t)},destroy:function(){var e=this;e.scroller.style[s]="";e.hScrollbar=false;e.vScrollbar=false;e._scrollbar("h");e._scrollbar("v");e._unbind(g,o);e._unbind(y);e._unbind(Y,o);e._unbind(v,o);e._unbind(T,o);if(!e.options.hasTouch){e._unbind("DOMMouseScroll");e._unbind("mousewheel")}if(e.options.useTransition)e._unbind(X);if(e.options.checkDOMChanges)clearInterval(e.checkDOMTime);if(e.options.onDestroy)e.options.onDestroy.call(e)},refresh:function(){var o=this,e,r,l,i,s=0,n=0;if(o.scale<o.options.zoomMin)o.scale=o.options.zoomMin;o.wrapperW=o.wrapper.clientWidth||1;o.wrapperH=o.wrapper.clientHeight||1;o.minScrollY=-o.options.topOffset||0;o.scrollerW=t.round(o.scroller.offsetWidth*o.scale);o.scrollerH=t.round((o.scroller.offsetHeight+o.minScrollY)*o.scale);o.maxScrollX=o.wrapperW-o.scrollerW;o.maxScrollY=o.wrapperH-o.scrollerH+o.minScrollY;o.dirX=0;o.dirY=0;if(o.options.onRefresh)o.options.onRefresh.call(o);o.hScroll=o.options.hScroll&&o.maxScrollX<0;o.vScroll=o.options.vScroll&&(!o.options.bounceLock&&!o.hScroll||o.scrollerH>o.wrapperH);o.hScrollbar=o.hScroll&&o.options.hScrollbar;o.vScrollbar=o.vScroll&&o.options.vScrollbar&&o.scrollerH>o.wrapperH;e=o._offset(o.wrapper);o.wrapperOffsetLeft=-e.left;o.wrapperOffsetTop=-e.top;if(typeof o.options.snap=="string"){o.pagesX=[];o.pagesY=[];i=o.scroller.querySelectorAll(o.options.snap);for(r=0,l=i.length;r<l;r++){s=o._offset(i[r]);s.left+=o.wrapperOffsetLeft;s.top+=o.wrapperOffsetTop;o.pagesX[r]=s.left<o.maxScrollX?o.maxScrollX:s.left*o.scale;o.pagesY[r]=s.top<o.maxScrollY?o.maxScrollY:s.top*o.scale}}else if(o.options.snap){o.pagesX=[];while(s>=o.maxScrollX){o.pagesX[n]=s;s=s-o.wrapperW;n++}if(o.maxScrollX%o.wrapperW)o.pagesX[o.pagesX.length]=o.maxScrollX-o.pagesX[o.pagesX.length-1]+o.pagesX[o.pagesX.length-1];s=0;n=0;o.pagesY=[];while(s>=o.maxScrollY){o.pagesY[n]=s;s=s-o.wrapperH;n++}if(o.maxScrollY%o.wrapperH)o.pagesY[o.pagesY.length]=o.maxScrollY-o.pagesY[o.pagesY.length-1]+o.pagesY[o.pagesY.length-1]}o._scrollbar("h");o._scrollbar("v");if(!o.zoomed){o.scroller.style[a]="0";o._resetPos(400)}},scrollTo:function(o,e,t,r){var l=this,i=o,s,n;l.stop();if(!i.length)i=[{x:o,y:e,time:t,relative:r}];for(s=0,n=i.length;s<n;s++){if(i[s].relative){i[s].x=l.x-i[s].x;i[s].y=l.y-i[s].y}l.steps.push({x:i[s].x,y:i[s].y,time:i[s].time||0})}l._startAni()},scrollToElement:function(o,e){var r=this,l;o=o.nodeType?o:r.scroller.querySelector(o);if(!o)return;l=r._offset(o);l.left+=r.wrapperOffsetLeft;l.top+=r.wrapperOffsetTop;l.left=l.left>0?0:l.left<r.maxScrollX?r.maxScrollX:l.left;l.top=l.top>r.minScrollY?r.minScrollY:l.top<r.maxScrollY?r.maxScrollY:l.top;e=e===undefined?t.max(t.abs(l.left)*2,t.abs(l.top)*2):e;r.scrollTo(l.left,l.top,e)},scrollToPage:function(o,e,t){var r=this,l,i;t=t===undefined?400:t;if(r.options.onScrollStart)r.options.onScrollStart.call(r);if(r.options.snap){o=o=="next"?r.currPageX+1:o=="prev"?r.currPageX-1:o;e=e=="next"?r.currPageY+1:e=="prev"?r.currPageY-1:e;o=o<0?0:o>r.pagesX.length-1?r.pagesX.length-1:o;e=e<0?0:e>r.pagesY.length-1?r.pagesY.length-1:e;r.currPageX=o;r.currPageY=e;l=r.pagesX[o];i=r.pagesY[e]}else{l=-r.wrapperW*o;i=-r.wrapperH*e;if(l<r.maxScrollX)l=r.maxScrollX;if(i<r.maxScrollY)i=r.maxScrollY}r.scrollTo(l,i,t)},disable:function(){this.stop();this._resetPos(0);this.enabled=false;this._unbind(Y,o);this._unbind(v,o);this._unbind(T,o)},enable:function(){this.enabled=true},stop:function(){if(this.options.useTransition)this._unbind(X);else _(this.aniTime);this.steps=[];this.moved=false;this.animating=false},zoom:function(o,e,t,r){var l=this,i=t/l.scale;if(!l.options.useTransform)return;l.zoomed=true;r=r===undefined?200:r;o=o-l.wrapperOffsetLeft-l.x;e=e-l.wrapperOffsetTop-l.y;l.x=o-o*i+l.x;l.y=e-e*i+l.y;l.scale=t;l.refresh();l.x=l.x>0?0:l.x<l.maxScrollX?l.maxScrollX:l.x;l.y=l.y>l.minScrollY?l.minScrollY:l.y<l.maxScrollY?l.maxScrollY:l.y;l.scroller.style[a]=r+"ms";l.scroller.style[s]="translate("+l.x+"px,"+l.y+"px) scale("+t+")"+z;l.zoomed=false},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}};function E(o){if(l==="")return o;o=o.charAt(0).toUpperCase()+o.substr(1);return l+o}r=null;if(typeof exports!=="undefined")exports.iScroll=M;else o.iScroll=M})(window,document);
//# sourceMappingURL=iscroll.js.map